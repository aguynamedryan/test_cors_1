!!! 5
%html
  %head
    %meta(charset="utf-8")
    %title Test of CORS
  :css
    body {
      font-family: verdana,helvetica,arial,sans-serif;
    }

    .float {
      float: left;
      margin-right: 10px;
    }
    h1 { margin-bottom: 0px; }
    table, th, td {
      border-collapse: collapse;
      border: solid thin #98bf21;
      margin: 0px;
    }

    thead > tr {
      background-color: #A7C942;
      color: #ffffff;
      font-size: 1.1em;
    }

    th, td {
      padding: 0.25em;
    }

    tr.even {
    }

    tr.odd {
      background-color: #EAF2D3;
    }
  %body
    = yield
    #site2
    %script{:type => "text/javascript",
            :src  => "https://code.jquery.com/jquery-2.2.1.js"}
    :javascript
      $(document).ready(function() {
        $.ajax({
          url: "#{@url}",
          type: "GET",
          crossDomain: false, // Turn off crossDomain so that x-request-with xmlhttprequest is sent so request.xhr? is true
          dataType: "html",
          success: function(response) {
            $('#site2').append(response)
          },
          error: function(xhr, status) {
            console.log(xhr);
            console.log(status);
          }
        });
      });
